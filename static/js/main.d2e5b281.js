(()=>{"use strict";var e={5778:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ut});var o=r(467),n=r(296),a=r(6665),i=r(6986),l=r(3344),s=r(1501),c=r(7225),d=r(3929),u=r(6283),f=r(5675),p=r(530),y=r(8833),g=r(4467),h=r(2772),m=r(6725),b=r(893),x=r(5648),j=r(3362),w=r(9483),v=r(2665),S=r(7877),C={colors:{background:{primary:"#020307",secondary:"#050816",tertiary:"#0A0F1E",elevated:"#111827"},accent:{primary:"#00F5FF",secondary:"#7DD3FC",glow:"rgba(0, 245, 255, 0.3)",dark:"#0891B2"},accentPurple:{primary:"#A855F7",secondary:"#C084FC",glow:"rgba(168, 85, 247, 0.3)"},text:{primary:"#F9FAFB",secondary:"#E5E7EB",tertiary:"#9CA3AF",disabled:"#6B7280"},border:{primary:"rgba(255, 255, 255, 0.1)",secondary:"rgba(255, 255, 255, 0.05)",accent:"rgba(0, 245, 255, 0.3)"},status:{success:"#10B981",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6"}},typography:{fontFamily:{regular:"System",medium:"System",bold:"System"},fontSize:{xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36},fontWeight:{regular:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:1.2,normal:1.5,relaxed:1.75}},spacing:{xs:4,sm:8,md:16,lg:24,xl:32,"2xl":48,"3xl":64},borderRadius:{sm:8,md:12,lg:16,xl:20,full:9999,pill:20},shadows:{sm:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},md:{shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.15,shadowRadius:8,elevation:4},lg:{shadowColor:"#000",shadowOffset:{width:0,height:8},shadowOpacity:.2,shadowRadius:16,elevation:8},glow:{shadowColor:"#00F5FF",shadowOffset:{width:0,height:0},shadowOpacity:.5,shadowRadius:12,elevation:0}},animation:{fast:150,normal:300,slow:500},zIndex:{base:0,elevated:10,overlay:100,modal:200,toast:300}},O=r(397);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var k=j.createAnimatedComponent(x.default),z={code:"function anonymous(){const{scale}=this.__closure;return{transform:[{scale:scale.value}]};}"},I=function(e){var t=e.title,r=e.onPress,o=e.variant,n=void 0===o?"primary":o,a=e.style,i=e.textStyle,l=e.disabled,s=void 0!==l&&l,c=(0,w.useSharedValue)(1),d=(0,v.useAnimatedStyle)(function(){var e=function(){return{transform:[{scale:c.value}]}};return e.__closure={scale:c},e.__workletHash=4183451682571,e.__initData=z,e}());return(0,O.jsxs)(k,{style:[E.button,E[n],a,d],onPress:r,onPressIn:function(){c.value=(0,S.withSpring)(.95)},onPressOut:function(){c.value=(0,S.withSpring)(1)},disabled:s,activeOpacity:.8,children:["primary"===n&&(0,O.jsx)(b.LinearGradient,{colors:[C.colors.accent.primary,C.colors.accent.dark],start:{x:0,y:0},end:{x:1,y:1},style:f.default.absoluteFill}),(0,O.jsx)(u.default,{style:[E.text,E[`${n}Text`],i],children:t})]})},E=f.default.create({button:P({paddingVertical:C.spacing.md,paddingHorizontal:C.spacing.lg,borderRadius:C.borderRadius.pill,alignItems:"center",justifyContent:"center",minHeight:48},C.shadows.md),primary:P(P({backgroundColor:C.colors.accent.primary},C.shadows.glow),{},{borderWidth:0}),secondary:{backgroundColor:C.colors.background.tertiary,borderWidth:1,borderColor:C.colors.border.accent},outline:{backgroundColor:"transparent",borderWidth:1,borderColor:C.colors.accent.primary},text:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary},primaryText:{color:C.colors.background.primary},secondaryText:{color:C.colors.accent.primary},outlineText:{color:C.colors.accent.primary}}),B=r(3029),R=r(2901);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=(0,R.default)(function e(){(0,B.default)(this,e),this.token=null,this.apiBaseUrl=function(){if("undefined"!==typeof window){var e=window.location.hostname;if(e.includes("github.io")||e.includes("github.com"))return{NODE_ENV:"production",PUBLIC_URL:"/ai-closet-app",APP_MANIFEST:{name:"AI Closet",slug:"ai-closet-app",version:"1.0.0",orientation:"portrait",userInterfaceStyle:"dark",web:{},sdkVersion:"50.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.REACT_APP_API_URL||{NODE_ENV:"production",PUBLIC_URL:"/ai-closet-app",APP_MANIFEST:{name:"AI Closet",slug:"ai-closet-app",version:"1.0.0",orientation:"portrait",userInterfaceStyle:"dark",web:{},sdkVersion:"50.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_API_URL||""}return{NODE_ENV:"production",PUBLIC_URL:"/ai-closet-app",APP_MANIFEST:{name:"AI Closet",slug:"ai-closet-app",version:"1.0.0",orientation:"portrait",userInterfaceStyle:"dark",web:{},sdkVersion:"50.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.REACT_APP_API_URL||{NODE_ENV:"production",PUBLIC_URL:"/ai-closet-app",APP_MANIFEST:{name:"AI Closet",slug:"ai-closet-app",version:"1.0.0",orientation:"portrait",userInterfaceStyle:"dark",web:{},sdkVersion:"50.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_API_URL||"https://your-production-api.com/api"}()},[{key:"setToken",value:function(e){this.token=e,e?"undefined"!==typeof window&&localStorage.setItem("auth_token",e):"undefined"!==typeof window&&localStorage.removeItem("auth_token")}},{key:"getToken",value:function(){return this.token||"undefined"===typeof window||(this.token=localStorage.getItem("auth_token")),this.token}},{key:"getApiUrl",value:function(){if("undefined"!==typeof localStorage){var e=localStorage.getItem("api_base_url");if(e)return this.apiBaseUrl=e,e}return this.apiBaseUrl}},{key:"setApiUrl",value:function(e){this.apiBaseUrl=e,"undefined"!==typeof localStorage&&localStorage.setItem("api_base_url",e)}},{key:"request",value:function(){var e=(0,o.default)(function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getToken(),o=W({"Content-Type":"application/json"},t.headers||{});r&&(o.Authorization=`Bearer ${r}`);var n=this.getApiUrl();try{var a,i=yield fetch(`${n}${e}`,W(W({},t),{},{headers:o})),l=i.headers.get("content-type");return l&&l.includes("application/json")?(a=yield i.json(),i.ok?{data:a}:409===i.status?{error:a.error||"An account with this email already exists. Please sign in instead."}:401===i.status?{error:a.error||"Invalid email or password"}:400===i.status?{error:a.error||"Invalid input. Please check your information."}:{error:a.error||`Request failed (${i.status})`}):{error:(yield i.text())||"Request failed"}}catch(s){return console.error("API request error:",s),"Network request failed"===s.message||"Failed to fetch"===s.message?{error:"Cannot connect to server. Please make sure the backend is running on http://localhost:3000"}:{error:"Network error. Please check your connection and ensure the backend server is running."}}});return function(t){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=(0,o.default)(function*(e,t){return this.request("/auth/signup",{method:"POST",body:JSON.stringify({email:e,password:t})})});return function(t,r){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=(0,o.default)(function*(e,t){var r,o=yield this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return null!=(r=o.data)&&r.token&&this.setToken(o.data.token),o});return function(t,r){return e.apply(this,arguments)}}()},{key:"verifyToken",value:function(){var e=(0,o.default)(function*(){return this.request("/auth/verify")});return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.setToken(null)}},{key:"getClothingItems",value:function(){var e=(0,o.default)(function*(){return this.request("/wardrobe/items")});return function(){return e.apply(this,arguments)}}()},{key:"createClothingItem",value:function(){var e=(0,o.default)(function*(e){return this.request("/wardrobe/items",{method:"POST",body:JSON.stringify(e)})});return function(t){return e.apply(this,arguments)}}()},{key:"updateClothingItem",value:function(){var e=(0,o.default)(function*(e,t){return this.request(`/wardrobe/items/${e}`,{method:"PUT",body:JSON.stringify(t)})});return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteClothingItem",value:function(){var e=(0,o.default)(function*(e){return this.request(`/wardrobe/items/${e}`,{method:"DELETE"})});return function(t){return e.apply(this,arguments)}}()},{key:"getSavedOutfits",value:function(){var e=(0,o.default)(function*(){return this.request("/wardrobe/outfits")});return function(){return e.apply(this,arguments)}}()},{key:"saveOutfit",value:function(){var e=(0,o.default)(function*(e){return this.request("/wardrobe/outfits",{method:"POST",body:JSON.stringify(e)})});return function(t){return e.apply(this,arguments)}}()},{key:"getCalendarEntries",value:function(){var e=(0,o.default)(function*(e,t){var r=new URLSearchParams;e&&r.append("startDate",e),t&&r.append("endDate",t);var o=r.toString();return this.request("/wardrobe/calendar"+(o?`?${o}`:""))});return function(t,r){return e.apply(this,arguments)}}()},{key:"saveCalendarEntry",value:function(){var e=(0,o.default)(function*(e){return this.request("/wardrobe/calendar",{method:"POST",body:JSON.stringify(e)})});return function(t){return e.apply(this,arguments)}}()},{key:"getAppState",value:function(){var e=(0,o.default)(function*(){return this.request("/wardrobe/app-state")});return function(){return e.apply(this,arguments)}}()},{key:"updateAppState",value:function(){var e=(0,o.default)(function*(e){return this.request("/wardrobe/app-state",{method:"PUT",body:JSON.stringify(e)})});return function(t){return e.apply(this,arguments)}}()}]),L=new A;r(9995);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(){return N.apply(this,arguments)}function N(){return(N=(0,o.default)(function*(){console.log("Running on web - using localStorage fallback")})).apply(this,arguments)}function U(){return q.apply(this,arguments)}function q(){return(q=(0,o.default)(function*(){throw new Error("SQLite not available on web. Use web-specific storage methods.")})).apply(this,arguments)}function $(e){return H.apply(this,arguments)}function H(){return(H=(0,o.default)(function*(e){var t=yield U();yield t.runAsync("INSERT OR REPLACE INTO clothing_items \n     (id, imageUri, category, color, brand, size, season, tags, cost, wearCount, createdAt, updatedAt)\n     VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.id,e.imageUri,e.category,e.color,e.brand||null,e.size||null,e.season,JSON.stringify(e.tags),e.cost,e.wearCount,e.createdAt,e.updatedAt])})).apply(this,arguments)}function V(e){return G.apply(this,arguments)}function G(){return(G=(0,o.default)(function*(e){var t=yield U(),r=yield t.getFirstAsync("SELECT * FROM clothing_items WHERE id = ?",[e]);return r?F(F({},r),{},{tags:JSON.parse(r.tags),brand:r.brand||void 0,size:r.size||void 0}):null})).apply(this,arguments)}function J(){return(J=(0,o.default)(function*(){var e=yield U();return(yield e.getAllAsync("SELECT * FROM clothing_items ORDER BY createdAt DESC")).map(function(e){return F(F({},e),{},{tags:JSON.parse(e.tags),brand:e.brand||void 0,size:e.size||void 0})})})).apply(this,arguments)}function Z(){return(Z=(0,o.default)(function*(e){var t=yield U();yield t.runAsync("DELETE FROM clothing_items WHERE id = ?",[e])})).apply(this,arguments)}function Y(e){return X.apply(this,arguments)}function X(){return(X=(0,o.default)(function*(e){var t=yield U();yield t.runAsync("UPDATE clothing_items SET wearCount = wearCount + 1, updatedAt = ? WHERE id = ?",[(new Date).toISOString(),e])})).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,o.default)(function*(e){var t=yield U();for(var r of(yield t.runAsync("INSERT OR REPLACE INTO saved_outfits \n     (id, itemIds, styleExplanation, occasion, season, mood, wornDate, weather, notes, createdAt)\n     VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",[e.id,JSON.stringify(e.itemIds),e.styleExplanation,e.occasion||null,e.season||null,e.mood||null,e.wornDate,e.weather||null,e.notes||null,e.createdAt]),e.itemIds))yield Y(r)})).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=(0,o.default)(function*(){var e=yield U();return(yield e.getAllAsync("SELECT * FROM saved_outfits ORDER BY wornDate DESC")).map(function(e){return F(F({},e),{},{itemIds:JSON.parse(e.itemIds),occasion:e.occasion||void 0,season:e.season||void 0,mood:e.mood||void 0,weather:e.weather||void 0,notes:e.notes||void 0})})})).apply(this,arguments)}function re(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.default)(function*(e){var t=yield U();yield t.runAsync("INSERT OR REPLACE INTO calendar_entries (date, outfitId, itemIds)\n     VALUES (?, ?, ?)",[e.date,e.outfitId||null,JSON.stringify(e.items.map(function(e){return e.id}))])})).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return(ae=(0,o.default)(function*(e,t){var r=yield U(),o=yield r.getAllAsync("SELECT * FROM calendar_entries WHERE date >= ? AND date <= ? ORDER BY date DESC",[e,t]),n=[];for(var a of o){var i=JSON.parse(a.itemIds),l=[];for(var s of i){var c=yield V(s);c&&l.push(c)}n.push({date:a.date,outfitId:a.outfitId||void 0,items:l})}return n})).apply(this,arguments)}function ie(){return le.apply(this,arguments)}function le(){return(le=(0,o.default)(function*(){try{"undefined"!==typeof window&&localStorage.getItem("hasCompletedOnboarding");var e="undefined"!==typeof window?localStorage.getItem("preferences"):null,t=e?JSON.parse(e):{};return{hasCompletedOnboarding:hasCompletedOnboarding,preferences:t}}catch(a){return console.error("Error reading app state from localStorage:",a),{hasCompletedOnboarding:!1,preferences:{}}}try{var r=yield U(),o=yield r.getFirstAsync("SELECT value FROM app_state WHERE key = 'hasCompletedOnboarding'"),n=yield r.getFirstAsync("SELECT value FROM app_state WHERE key = 'preferences'");return{hasCompletedOnboarding:"true"===(null==o?void 0:o.value),preferences:n?JSON.parse(n.value):{}}}catch(a){return console.error("Error reading app state:",a),{hasCompletedOnboarding:!1,preferences:{}}}})).apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=(0,o.default)(function*(e){try{return void 0!==e.hasCompletedOnboarding&&"undefined"!==typeof window&&localStorage.setItem("hasCompletedOnboarding",e.hasCompletedOnboarding.toString()),void(e.preferences&&"undefined"!==typeof window&&localStorage.setItem("preferences",JSON.stringify(e.preferences)))}catch(r){throw console.error("Error saving app state to localStorage:",r),r}try{var t=yield U();void 0!==e.hasCompletedOnboarding&&(yield t.runAsync("INSERT OR REPLACE INTO app_state (key, value) VALUES ('hasCompletedOnboarding', ?)",[e.hasCompletedOnboarding.toString()])),e.preferences&&(yield t.runAsync("INSERT OR REPLACE INTO app_state (key, value) VALUES ('preferences', ?)",[JSON.stringify(e.preferences)]))}catch(r){throw console.error("Error saving app state:",r),r}})).apply(this,arguments)}var de=!1;function ue(e){de=e&&!!L.getToken()}var fe={setUseBackend:ue};function pe(){return(pe=(0,o.default)(function*(){var e=L.getToken();fe.setUseBackend(!!e),yield M()})).apply(this,arguments)}function ye(){return(ye=(0,o.default)(function*(e){if(de)try{var t=yield L.createClothingItem(e);if(t.error)throw new Error(t.error);return void(yield $(e))}catch(r){console.warn("Backend save failed, using local storage:",r)}yield $(e)})).apply(this,arguments)}function ge(){return ge=(0,o.default)(function*(){if(de)try{var e=yield L.getClothingItems();if(e.data){for(var t of e.data)yield $(t);return e.data}}catch(r){console.warn("Backend fetch failed, using local storage:",r)}return function(){return J.apply(this,arguments)}()}),ge.apply(this,arguments)}function he(){return he=(0,o.default)(function*(e){if(de)try{var t=yield L.deleteClothingItem(e);if(t.error)throw new Error(t.error)}catch(r){console.warn("Backend delete failed:",r)}yield function(e){return Z.apply(this,arguments)}(e)}),he.apply(this,arguments)}function me(){return be.apply(this,arguments)}function be(){return(be=(0,o.default)(function*(){if(de)try{var e=yield L.getAppState();if(e.data)return e.data}catch(t){console.warn("Backend fetch failed, using local storage:",t)}return ie()})).apply(this,arguments)}function xe(){return(xe=(0,o.default)(function*(e){if(de)try{yield L.updateAppState(e)}catch(t){console.warn("Backend update failed, using local storage:",t)}yield se(e)})).apply(this,arguments)}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}m.default.get("window").width;var ve=function(e){var t=e.onComplete,r=function(){var e=(0,o.default)(function*(){try{yield function(e){return xe.apply(this,arguments)}({hasCompletedOnboarding:!0}),t()}catch(e){console.error("Error completing onboarding:",e),t()}});return function(){return e.apply(this,arguments)}}();return(0,O.jsx)(b.LinearGradient,{colors:[C.colors.background.primary,C.colors.background.secondary,C.colors.background.tertiary],style:Ce.container,children:(0,O.jsxs)(h.default,{contentContainerStyle:Ce.content,showsVerticalScrollIndicator:!1,children:[(0,O.jsxs)(d.default,{style:Ce.header,children:[(0,O.jsx)(d.default,{style:Ce.logoContainer,children:(0,O.jsx)(d.default,{style:Ce.logoCircle,children:(0,O.jsx)(u.default,{style:Ce.logoText,children:"AC"})})}),(0,O.jsx)(u.default,{style:Ce.title,children:"Welcome to AI Closet"}),(0,O.jsx)(u.default,{style:Ce.subtitle,children:"Your Personal Stylist"})]}),(0,O.jsxs)(d.default,{style:Ce.features,children:[(0,O.jsx)(Se,{number:"01",title:"Snap Your Wardrobe",description:"Take photos of your clothes and organize them by category, color, and season. Build your digital closet effortlessly.",color:C.colors.accent.primary}),(0,O.jsx)(Se,{number:"02",title:"Get Daily AI Fits",description:"Receive personalized outfit suggestions based on your style, occasion, weather, and mood. Let AI be your stylist.",color:C.colors.accentPurple.primary}),(0,O.jsx)(Se,{number:"03",title:"Track What You Wear",description:"Log your outfits and see cost-per-wear analytics. Make smarter fashion choices and maximize your wardrobe.",color:C.colors.accent.secondary})]}),(0,O.jsx)(I,{title:"Get Started",onPress:r,style:Ce.button})]})})},Se=function(e){var t=e.number,r=e.title,o=e.description,n=e.color;return(0,O.jsxs)(d.default,{style:Ce.featureCard,children:[(0,O.jsx)(d.default,{style:[Ce.featureNumber,{borderColor:n}],children:(0,O.jsx)(u.default,{style:[Ce.featureNumberText,{color:n}],children:t})}),(0,O.jsxs)(d.default,{style:Ce.featureContent,children:[(0,O.jsx)(u.default,{style:Ce.featureTitle,children:r}),(0,O.jsx)(u.default,{style:Ce.featureDescription,children:o})]})]})},Ce=f.default.create({container:{flex:1},content:{flexGrow:1,padding:C.spacing.xl,paddingTop:C.spacing["3xl"],justifyContent:"center"},header:{alignItems:"center",marginBottom:C.spacing["3xl"]},logoContainer:{marginBottom:C.spacing.lg},logoCircle:we({width:100,height:100,borderRadius:50,backgroundColor:C.colors.accent.primary,justifyContent:"center",alignItems:"center"},C.shadows.glow),logoText:{fontSize:C.typography.fontSize["4xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.background.primary},title:{fontSize:C.typography.fontSize["4xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.sm,textAlign:"center"},subtitle:{fontSize:C.typography.fontSize.lg,color:C.colors.text.secondary,textAlign:"center"},features:{marginBottom:C.spacing["2xl"]},featureCard:we({flexDirection:"row",backgroundColor:C.colors.background.elevated,borderRadius:C.borderRadius.lg,padding:C.spacing.lg,marginBottom:C.spacing.lg,borderWidth:1,borderColor:C.colors.border.secondary},C.shadows.md),featureNumber:{width:50,height:50,borderRadius:25,borderWidth:2,justifyContent:"center",alignItems:"center",marginRight:C.spacing.md},featureNumberText:{fontSize:C.typography.fontSize.lg,fontWeight:C.typography.fontWeight.bold},featureContent:{flex:1},featureTitle:{fontSize:C.typography.fontSize.xl,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.sm},featureDescription:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary,lineHeight:C.typography.fontSize.base*C.typography.lineHeight.relaxed},button:{marginTop:C.spacing.lg}}),Oe=r(6773),Te=r(4767);function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ze=function(e){var t=e.onLogin,r=(e.onSignup,(0,a.useState)("")),i=(0,n.default)(r,2),l=i[0],s=i[1],c=(0,a.useState)(""),f=(0,n.default)(c,2),p=f[0],y=f[1],m=(0,a.useState)(!1),j=(0,n.default)(m,2),w=j[0],v=j[1],S=(0,a.useState)(!1),T=(0,n.default)(S,2),P=T[0],k=T[1],z=(0,a.useState)({}),E=(0,n.default)(z,2),B=E[0],R=E[1],D=(0,a.useState)({email:!1,password:!1}),W=(0,n.default)(D,2),A=W[0],_=W[1],F=(0,a.useState)({minLength:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecialChar:!1}),M=(0,n.default)(F,2),N=M[0],U=M[1],q=function(e){if(!e)return"Email is required";return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?void 0:"Please enter a valid email address"},$=function(e){return{minLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasLowerCase:/[a-z]/.test(e),hasNumber:/[0-9]/.test(e),hasSpecialChar:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)}},H=function(e){if(!e)return"Password is required";var t=$(e);if(!Object.values(t).every(function(e){return!0===e})){var r=[];return t.minLength||r.push("8 characters"),t.hasUpperCase||r.push("uppercase letter"),t.hasLowerCase||r.push("lowercase letter"),t.hasNumber||r.push("number"),t.hasSpecialChar||r.push("special character"),`Password must include: ${r.join(", ")}`}},V=function(e){_(function(t){return ke(ke({},t),{},(0,g.default)({},e,!0))}),R("email"===e?function(e){return ke(ke({},e),{},{email:q(l)})}:function(e){return ke(ke({},e),{},{password:H(p)})})},G=function(){var e=(0,o.default)(function*(){if(_({email:!0,password:!0}),function(){var e=q(l),t=H(p);return R({email:e,password:t}),!e&&!t}()){v(!0),R({});try{var e=P?yield L.signup(l,p):yield L.login(l,p);e.error?e.error.toLowerCase().includes("already exists")||e.error.toLowerCase().includes("user with this email")?(R({general:e.error,email:"An account with this email already exists. Try signing in instead."}),setTimeout(function(){k(!1)},3e3)):R({general:e.error}):t()}catch(r){R({general:"Failed to connect to server. Please make sure the backend is running on http://localhost:3000"}),console.error(r)}finally{v(!1)}}});return function(){return e.apply(this,arguments)}}();return(0,O.jsx)(Te.default,{style:Ie.container,behavior:"height",children:(0,O.jsx)(b.LinearGradient,{colors:[C.colors.background.primary,C.colors.background.secondary,C.colors.background.tertiary],style:Ie.gradient,children:(0,O.jsx)(h.default,{contentContainerStyle:Ie.scrollContent,keyboardShouldPersistTaps:"handled",children:(0,O.jsxs)(d.default,{style:Ie.content,children:[(0,O.jsxs)(d.default,{style:Ie.header,children:[(0,O.jsx)(d.default,{style:Ie.logoContainer,children:(0,O.jsx)(d.default,{style:Ie.logoCircle,children:(0,O.jsx)(u.default,{style:Ie.logoText,children:"AC"})})}),(0,O.jsx)(u.default,{style:Ie.title,children:"AI Closet"}),(0,O.jsx)(u.default,{style:Ie.subtitle,children:P?"Create your account":"Welcome back"})]}),B.general&&(0,O.jsxs)(d.default,{style:Ie.errorContainer,children:[(0,O.jsx)(u.default,{style:Ie.errorText,children:B.general}),B.general.toLowerCase().includes("already exists")&&(0,O.jsx)(x.default,{onPress:function(){k(!1),R({})},style:Ie.switchToLoginButton,children:(0,O.jsx)(u.default,{style:Ie.switchToLoginText,children:"Switch to Sign In \u2192"})}),B.general.toLowerCase().includes("cannot connect")&&(0,O.jsx)(d.default,{style:Ie.helpContainer,children:(0,O.jsxs)(u.default,{style:Ie.helpText,children:["To start the backend server:","\n","1. Open a terminal","\n","2. Run: cd backend && npm run dev","\n",'3. Wait for "Server running on http://localhost:3000"']})})]}),(0,O.jsxs)(d.default,{style:Ie.form,children:[(0,O.jsxs)(d.default,{style:Ie.inputContainer,children:[(0,O.jsx)(u.default,{style:Ie.label,children:"Email Address"}),(0,O.jsx)(Oe.default,{style:[Ie.input,A.email&&B.email&&Ie.inputError,A.email&&!B.email&&Ie.inputSuccess],value:l,onChangeText:function(e){s(e),A.email&&R(function(t){return ke(ke({},t),{},{email:q(e)})})},onBlur:function(){return V("email")},placeholder:"Enter your email",placeholderTextColor:C.colors.text.tertiary,keyboardType:"email-address",autoCapitalize:"none",autoCorrect:!1,editable:!w}),A.email&&B.email&&(0,O.jsx)(u.default,{style:Ie.fieldError,children:B.email}),A.email&&!B.email&&l&&(0,O.jsx)(u.default,{style:Ie.fieldSuccess,children:"\u2713 Valid email"})]}),(0,O.jsxs)(d.default,{style:Ie.inputContainer,children:[(0,O.jsx)(u.default,{style:Ie.label,children:"Password"}),(0,O.jsx)(Oe.default,{style:[Ie.input,A.password&&B.password&&Ie.inputError,A.password&&!B.password&&p&&Ie.inputSuccess],value:p,onChangeText:function(e){y(e),P&&U($(e)),A.password&&R(function(t){return ke(ke({},t),{},{password:H(e)})})},onBlur:function(){return V("password")},placeholder:"Enter your password",placeholderTextColor:C.colors.text.tertiary,secureTextEntry:!0,autoCapitalize:"none",editable:!w}),A.password&&B.password&&(0,O.jsx)(u.default,{style:Ie.fieldError,children:B.password}),A.password&&!B.password&&p&&(0,O.jsx)(u.default,{style:Ie.fieldSuccess,children:"\u2713 Password meets all requirements"}),P&&p&&(0,O.jsxs)(d.default,{style:Ie.requirementsContainer,children:[(0,O.jsx)(u.default,{style:Ie.requirementsTitle,children:"Password Requirements:"}),(0,O.jsx)(Ee,{met:N.minLength,text:"At least 8 characters"}),(0,O.jsx)(Ee,{met:N.hasUpperCase,text:"One uppercase letter (A-Z)"}),(0,O.jsx)(Ee,{met:N.hasLowerCase,text:"One lowercase letter (a-z)"}),(0,O.jsx)(Ee,{met:N.hasNumber,text:"One number (0-9)"}),(0,O.jsx)(Ee,{met:N.hasSpecialChar,text:"One special character (!@#$%...)"})]})]}),(0,O.jsx)(I,{title:w?"Please wait...":P?"Create Account":"Sign In",onPress:G,variant:"primary",disabled:w,style:Ie.submitButton}),(0,O.jsxs)(d.default,{style:Ie.divider,children:[(0,O.jsx)(d.default,{style:Ie.dividerLine}),(0,O.jsx)(u.default,{style:Ie.dividerText,children:"or"}),(0,O.jsx)(d.default,{style:Ie.dividerLine})]}),(0,O.jsx)(x.default,{onPress:function(){k(!P),R({}),_({email:!1,password:!1}),U({minLength:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecialChar:!1})},style:Ie.switchButton,disabled:w,children:(0,O.jsxs)(u.default,{style:Ie.switchText,children:[P?"Already have an account? ":"Don't have an account? ",(0,O.jsx)(u.default,{style:Ie.switchTextBold,children:P?"Sign in":"Sign up"})]})})]})]})})})})},Ie=f.default.create({container:{flex:1},gradient:{flex:1},scrollContent:{flexGrow:1},content:{flex:1,justifyContent:"center",padding:C.spacing.xl,paddingTop:C.spacing["3xl"]},header:{alignItems:"center",marginBottom:C.spacing["2xl"]},logoContainer:{marginBottom:C.spacing.lg},logoCircle:ke({width:80,height:80,borderRadius:40,backgroundColor:C.colors.accent.primary,justifyContent:"center",alignItems:"center"},C.shadows.glow),logoText:{fontSize:C.typography.fontSize["3xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.background.primary},title:{fontSize:C.typography.fontSize["4xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.xs},subtitle:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary,textAlign:"center"},errorContainer:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:1,borderColor:C.colors.status.error,borderRadius:C.borderRadius.md,padding:C.spacing.md,marginBottom:C.spacing.md},errorText:{color:C.colors.status.error,fontSize:C.typography.fontSize.sm,textAlign:"center"},form:{width:"100%"},inputContainer:{marginBottom:C.spacing.lg},label:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm,textTransform:"uppercase",letterSpacing:.5},input:{backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,padding:C.spacing.md,color:C.colors.text.primary,borderWidth:2,borderColor:C.colors.border.secondary,fontSize:C.typography.fontSize.base},inputError:{borderColor:C.colors.status.error,backgroundColor:"rgba(239, 68, 68, 0.05)"},inputSuccess:{borderColor:C.colors.status.success,backgroundColor:"rgba(16, 185, 129, 0.05)"},fieldError:{color:C.colors.status.error,fontSize:C.typography.fontSize.xs,marginTop:C.spacing.xs},fieldSuccess:{color:C.colors.status.success,fontSize:C.typography.fontSize.xs,marginTop:C.spacing.xs},hint:{color:C.colors.text.tertiary,fontSize:C.typography.fontSize.xs,marginTop:C.spacing.xs},submitButton:{marginTop:C.spacing.lg},divider:{flexDirection:"row",alignItems:"center",marginVertical:C.spacing.xl},dividerLine:{flex:1,height:1,backgroundColor:C.colors.border.secondary},dividerText:{marginHorizontal:C.spacing.md,color:C.colors.text.tertiary,fontSize:C.typography.fontSize.sm},switchButton:{alignItems:"center",padding:C.spacing.md},switchText:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary},switchTextBold:{color:C.colors.accent.primary,fontWeight:C.typography.fontWeight.semibold},requirementsContainer:{marginTop:C.spacing.md,padding:C.spacing.md,backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,borderWidth:1,borderColor:C.colors.border.secondary},requirementsTitle:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm},requirementItem:{flexDirection:"row",alignItems:"center",marginBottom:C.spacing.xs},requirementText:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary,marginLeft:C.spacing.sm},requirementTextMet:{color:C.colors.status.success},requirementTextUnmet:{color:C.colors.text.tertiary},switchToLoginButton:{marginTop:C.spacing.sm,padding:C.spacing.sm,alignItems:"center"},switchToLoginText:{color:C.colors.accent.primary,fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold},helpContainer:{marginTop:C.spacing.md,padding:C.spacing.sm,backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:C.borderRadius.sm},helpText:{color:C.colors.status.info,fontSize:C.typography.fontSize.xs,lineHeight:1.5*C.typography.fontSize.xs}}),Ee=function(e){var t=e.met,r=e.text;return(0,O.jsx)(d.default,{style:Ie.requirementItem,children:(0,O.jsxs)(u.default,{style:[Ie.requirementText,t?Ie.requirementTextMet:Ie.requirementTextUnmet],children:[t?"\u2713":"\u25cb"," ",r]})})},Be=r(5458),Re=r(932),De=r(8179);function We(){var e=(0,a.useState)([]),t=(0,n.default)(e,2),r=t[0],i=t[1],l=(0,a.useState)(!0),s=(0,n.default)(l,2),c=s[0],d=s[1],u=(0,a.useState)({}),f=(0,n.default)(u,2),p=f[0],y=f[1],g=(0,a.useCallback)((0,o.default)(function*(){try{d(!0);var e=yield function(){return ge.apply(this,arguments)}();i(e)}catch(t){console.error("Error loading wardrobe:",t)}finally{d(!1)}}),[]);(0,a.useEffect)(function(){g()},[g]);var h=(0,a.useCallback)(function(){var e=(0,o.default)(function*(e){try{yield function(e){return ye.apply(this,arguments)}(e),yield g()}catch(t){throw console.error("Error adding item:",t),t}});return function(t){return e.apply(this,arguments)}}(),[g]),m=(0,a.useCallback)(function(){var e=(0,o.default)(function*(e){try{yield function(e){return he.apply(this,arguments)}(e),yield g()}catch(t){throw console.error("Error deleting item:",t),t}});return function(t){return e.apply(this,arguments)}}(),[g]);return{items:r.filter(function(e){if(p.category&&p.category.length>0&&!p.category.includes(e.category))return!1;if(p.color&&p.color.length>0&&!p.color.includes(e.color))return!1;if(p.season&&p.season.length>0&&!p.season.includes(e.season))return!1;if(p.searchQuery){var t,r=p.searchQuery.toLowerCase();if(!(e.category.toLowerCase().includes(r)||e.color.toLowerCase().includes(r)||(null==(t=e.brand)?void 0:t.toLowerCase().includes(r))||e.tags.some(function(e){return e.toLowerCase().includes(r)})))return!1}return!0}),allItems:r,loading:c,filters:p,setFilters:y,addItem:h,deleteItem:m,refresh:g}}var Ae=r(3004),Le=r(2611);function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Me={code:"function anonymous(){return{transform:[{scale:1}]};}"},Ne=function(e){var t=e.children,r=e.style,o=e.glow,n=void 0!==o&&o,a=e.onPress,i=(0,v.useAnimatedStyle)(function(){var e=function(){return{transform:[{scale:1}]}};return e.__closure={},e.__workletHash=9334252106563,e.__initData=Me,e}()),l=(0,O.jsxs)(d.default,{style:[Ue.card,n&&Ue.glowCard,r],children:[n&&(0,O.jsx)(b.LinearGradient,{colors:["rgba(0, 245, 255, 0.1)","transparent"],start:{x:0,y:0},end:{x:1,y:1},style:f.default.absoluteFill}),t]});return a?(0,O.jsx)(Le.AnimatedView,{style:i,children:l}):l},Ue=f.default.create({card:Fe({backgroundColor:C.colors.background.elevated,borderRadius:C.borderRadius.lg,padding:C.spacing.md,borderWidth:1,borderColor:C.colors.border.primary},C.shadows.md),glowCard:Fe({borderColor:C.colors.border.accent},C.shadows.glow)});function qe(){return(qe=(0,o.default)(function*(e){var t=e.wardrobe,r=e.constraints;if(!t||0===t.length)throw new Error("Wardrobe is empty. Add some clothing items first.");var o=(0,Be.default)(t);if(r.weather){var n=He(r.weather);o=o.filter(function(e){return e.season===n||"all-season"===e.season})}r.lockedItemIds&&(o=o.filter(function(e){return!r.lockedItemIds.includes(e.id)})),r.excludedItemIds&&(o=o.filter(function(e){return!r.excludedItemIds.includes(e.id)}));for(var a=Math.min(5,Math.max(3,Math.floor(o.length/3))),i=[],l=0;l<a;l++){var s=$e(o,r,r.lockedItemIds||[]);s&&i.push(s)}return{outfits:i,reasoning:`Generated ${i.length} outfit suggestions based on ${t.length} items in your wardrobe, considering ${r.occasion||"casual"} occasion and ${r.mood||"balanced"} mood.`}})).apply(this,arguments)}function $e(e,t,r){var o=[],n=new Set,a=e.filter(function(e){return r.includes(e.id)});o.push.apply(o,(0,Be.default)(a)),a.forEach(function(e){return n.add(e.category)});var i=function(r){if(n.has(r))return 0;var a=e.filter(function(e){return e.category===r&&!o.some(function(t){return t.id===e.id})});if(0===a.length)return 0;var i=a;t.occasion&&(i=a.filter(function(e){return e.tags.some(function(e){return e.toLowerCase().includes(t.occasion.toLowerCase())})||function(e,t){if("formal"===t||"work"===t)return"gym"!==e;if("gym"===t)return"tops"===e||"bottoms"===e||"shoes"===e;return!0}(r,t.occasion)}));var l=i[Math.floor(Math.random()*i.length)]||a[0];o.push(l),n.add(r)};for(var l of["tops","bottoms","shoes"])i(l);if(Math.random()>.5){var s=e.find(function(e){return"outerwear"===e.category&&!o.some(function(t){return t.id===e.id})});s&&o.push(s)}if(o.length<2)return null;var c=function(e,t){var r=e.map(function(e){return e.color}).join(", "),o=e.map(function(e){return e.category}).join(" + "),n=t.mood||"balanced",a=[`A ${n} ${o} combination in ${r}. Perfect for ${t.occasion||"casual"} occasions.`,`Stylish ${o} pairing with ${r} tones. Great for a ${n} ${t.occasion||"casual"} look.`,`Effortless ${o} ensemble featuring ${r}. Ideal for ${t.occasion||"casual"} settings.`,`Modern ${o} mix in ${r}. A ${n} take on ${t.occasion||"casual"} style.`];return a[Math.floor(Math.random()*a.length)]}(o,t);return{id:`outfit-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,itemIds:o.map(function(e){return e.id}),styleExplanation:c,occasion:t.occasion,season:t.weather?He(t.weather):void 0,mood:t.mood,createdAt:(new Date).toISOString()}}function He(e){var t=e.toLowerCase();return t.includes("cold")||t.includes("snow")||t.includes("winter")?"winter":t.includes("hot")||t.includes("summer")||t.includes("sunny")?"summer":t.includes("spring")||t.includes("mild")?"spring":t.includes("fall")||t.includes("autumn")||t.includes("cool")?"fall":"all-season"}function Ve(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,o.default)(function*(e,t){var r=new Date(e).getMonth();return r>=11||r<=2?"cold, winter":r>=3&&r<=5?"mild, spring":r>=6&&r<=8?"hot, summer":"cool, fall"})).apply(this,arguments)}var Je=function(e){var t=e.item,r=e.onPress,o=function(e){return 0===e.wearCount?e.cost:e.cost/e.wearCount}(t),n=(0,O.jsxs)(d.default,{style:Ze.container,children:[(0,O.jsx)(Ae.default,{source:{uri:t.imageUri},style:Ze.image}),(0,O.jsxs)(d.default,{style:Ze.info,children:[(0,O.jsx)(u.default,{style:Ze.category,numberOfLines:1,children:t.category}),(0,O.jsx)(u.default,{style:Ze.color,numberOfLines:1,children:t.color}),t.brand&&(0,O.jsx)(u.default,{style:Ze.brand,numberOfLines:1,children:t.brand}),(0,O.jsxs)(d.default,{style:Ze.stats,children:[(0,O.jsxs)(u.default,{style:Ze.statText,children:["Worn ",t.wearCount,"x"]}),(0,O.jsxs)(u.default,{style:Ze.statText,children:["$",o.toFixed(2),"/wear"]})]})]})]});return r?(0,O.jsx)(x.default,{onPress:r,activeOpacity:.8,children:(0,O.jsx)(Ne,{style:Ze.card,children:n})}):(0,O.jsx)(Ne,{style:Ze.card,children:n})},Ze=f.default.create({card:{marginBottom:C.spacing.md,borderWidth:1,borderColor:C.colors.border.secondary},container:{flexDirection:"row"},image:{width:90,height:90,borderRadius:C.borderRadius.md,backgroundColor:C.colors.background.tertiary,borderWidth:1,borderColor:C.colors.border.secondary},info:{flex:1,marginLeft:C.spacing.md,justifyContent:"space-between"},category:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,textTransform:"capitalize"},color:{fontSize:C.typography.fontSize.sm,color:C.colors.text.secondary,textTransform:"capitalize",marginTop:C.spacing.xs},brand:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginTop:C.spacing.xs},stats:{flexDirection:"row",marginTop:C.spacing.sm,gap:C.spacing.md},statText:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary}}),Ye=j.createAnimatedComponent(x.default),Xe={code:"function anonymous(){const{scale}=this.__closure;return{transform:[{scale:scale.value}]};}"},Ke=function(e){var t=e.label,r=e.active,o=e.onPress,n=(0,w.useSharedValue)(1),a=(0,v.useAnimatedStyle)(function(){var e=function(){return{transform:[{scale:n.value}]}};return e.__closure={scale:n},e.__workletHash=4183451682571,e.__initData=Xe,e}());return(0,O.jsx)(Ye,{style:[Qe.chip,r&&Qe.activeChip,a],onPress:o,onPressIn:function(){n.value=(0,S.withSpring)(.95)},onPressOut:function(){n.value=(0,S.withSpring)(1)},activeOpacity:.7,children:(0,O.jsx)(u.default,{style:[Qe.text,r&&Qe.activeText],children:t})})},Qe=f.default.create({chip:{paddingVertical:C.spacing.sm,paddingHorizontal:C.spacing.md,borderRadius:C.borderRadius.pill,backgroundColor:C.colors.background.tertiary,borderWidth:1,borderColor:C.colors.border.secondary,marginRight:C.spacing.sm,marginBottom:C.spacing.sm},activeChip:{borderColor:C.colors.accent.primary,backgroundColor:C.colors.background.elevated,borderWidth:2},text:{fontSize:C.typography.fontSize.sm,color:C.colors.text.secondary,fontWeight:C.typography.fontWeight.medium},activeText:{color:C.colors.accent.primary,fontWeight:C.typography.fontWeight.semibold}});function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rt=function(){var e=(0,De.useNavigation)(),t=We(),r=t.items,o=t.loading,i=t.filters,l=t.setFilters,s=(0,a.useState)(""),c=(0,n.default)(s,2),f=c[0],p=c[1],y=function(e,t){var r=i[e]||[],o=r.includes(t)?r.filter(function(e){return e!==t}):[].concat((0,Be.default)(r),[t]);l(tt(tt({},i),{},(0,g.default)({},e,o.length>0?o:void 0)))};return o?(0,O.jsx)(d.default,{style:ot.container,children:(0,O.jsx)(u.default,{style:ot.loadingText,children:"Loading wardrobe..."})}):(0,O.jsxs)(d.default,{style:ot.container,children:[(0,O.jsxs)(d.default,{style:ot.header,children:[(0,O.jsxs)(d.default,{children:[(0,O.jsx)(u.default,{style:ot.title,children:"My Closet"}),(0,O.jsxs)(u.default,{style:ot.subtitle,children:[r.length," items"]})]}),(0,O.jsx)(I,{title:"Add Item",onPress:function(){return e.navigate("AddItem")},variant:"primary",style:ot.addButton})]}),(0,O.jsx)(Oe.default,{style:ot.searchInput,placeholder:"Search...",placeholderTextColor:C.colors.text.tertiary,value:f,onChangeText:function(e){p(e),l(tt(tt({},i),{},{searchQuery:e||void 0}))}}),(0,O.jsxs)(d.default,{style:ot.filters,children:[(0,O.jsx)(u.default,{style:ot.filterLabel,children:"Category"}),(0,O.jsx)(d.default,{style:ot.filterRow,children:["tops","bottoms","shoes","outerwear","accessories"].map(function(e){var t;return(0,O.jsx)(Ke,{label:e,active:(null==(t=i.category)?void 0:t.includes(e))||!1,onPress:function(){return y("category",e)}},e)})}),(0,O.jsx)(u.default,{style:ot.filterLabel,children:"Color"}),(0,O.jsx)(d.default,{style:ot.filterRow,children:["black","white","gray","navy","blue","red","green","yellow","orange","pink","purple","brown","beige","multicolor"].slice(0,8).map(function(e){var t;return(0,O.jsx)(Ke,{label:e,active:(null==(t=i.color)?void 0:t.includes(e))||!1,onPress:function(){return y("color",e)}},e)})})]}),(0,O.jsx)(Re.default,{data:r,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return(0,O.jsx)(Je,{item:t})},contentContainerStyle:ot.list,ListEmptyComponent:(0,O.jsxs)(d.default,{style:ot.empty,children:[(0,O.jsx)(u.default,{style:ot.emptyText,children:"No items in your closet yet"}),(0,O.jsx)(I,{title:"Add Your First Item",onPress:function(){return e.navigate("AddItem")},variant:"outline",style:ot.emptyButton})]})})]})},ot=f.default.create({container:{flex:1,backgroundColor:C.colors.background.primary,padding:C.spacing.md},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:C.spacing.md},title:{fontSize:C.typography.fontSize["2xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary},subtitle:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginTop:C.spacing.xs},addButton:{paddingHorizontal:C.spacing.md,paddingVertical:C.spacing.sm},searchInput:{backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,padding:C.spacing.md,color:C.colors.text.primary,marginBottom:C.spacing.md,borderWidth:1,borderColor:C.colors.border.secondary},filters:{marginBottom:C.spacing.md},filterLabel:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm,marginTop:C.spacing.sm},filterRow:{flexDirection:"row",flexWrap:"wrap"},list:{paddingBottom:C.spacing.xl},empty:{alignItems:"center",justifyContent:"center",paddingVertical:C.spacing["3xl"]},emptyText:{fontSize:C.typography.fontSize.base,color:C.colors.text.tertiary,marginBottom:C.spacing.lg},emptyButton:{minWidth:200},loadingText:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary,textAlign:"center",marginTop:C.spacing["2xl"]}}),nt=r(1690),at=r(962),it=r(9050);function lt(e){return st.apply(this,arguments)}function st(){return st=(0,o.default)(function*(e){yield new Promise(function(e){return setTimeout(e,1500)});var t=yield function(e){return ct.apply(this,arguments)}(e);return t}),st.apply(this,arguments)}function ct(){return(ct=(0,o.default)(function*(e){var t=["tops","bottoms","shoes","outerwear","accessories"],r=["black","white","gray","navy","blue","red","green","yellow","orange","pink","purple","brown","beige","multicolor"],o=["spring","summer","fall","winter","all-season"],n=t[Math.floor(Math.random()*t.length)];return{category:n,color:r[Math.floor(Math.random()*r.length)],brand:null,season:o[Math.floor(Math.random()*o.length)],tags:{tops:["casual","comfortable","versatile"],bottoms:["casual","comfortable"],shoes:["comfortable","stylish"],outerwear:["warm","protective"],accessories:["stylish","versatile"]}[n]||[],confidence:.75}})).apply(this,arguments)}var dt=function(e){var t=e.onImageSelected,r=(e.onTakePhoto,e.onPickImage),o=(0,a.useState)(!1),i=(0,n.default)(o,2),l=i[0],s=i[1],c=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=function(e){e.preventDefault(),e.stopPropagation(),s(!0)},t=function(e){e.preventDefault(),e.stopPropagation(),e.target!==document.body&&e.relatedTarget||s(!1)},r=function(e){var t;e.preventDefault(),e.stopPropagation(),s(!1);var r=null==(t=e.dataTransfer)?void 0:t.files;r&&r.length>0&&f(r[0])};if("undefined"!==typeof window){window.addEventListener("dragover",e),window.addEventListener("dragleave",t),window.addEventListener("drop",r);var o=document.createElement("input");return o.type="file",o.accept="image/*",o.style.display="none",o.addEventListener("change",function(e){var t=e.target;t.files&&t.files.length>0&&(f(t.files[0]),t.value="")}),c.current=o,document.body.appendChild(o),function(){window.removeEventListener("dragover",e),window.removeEventListener("dragleave",t),window.removeEventListener("drop",r),c.current&&document.body.contains(c.current)&&document.body.removeChild(c.current)}}},[f]);var f=(0,a.useCallback)(function(e){if(e.type.startsWith("image/")){var r=new FileReader;r.onload=function(e){var r,o=null==(r=e.target)?void 0:r.result;"string"===typeof o&&t(o)},r.onerror=function(){alert("Failed to read image file")},r.readAsDataURL(e)}else alert("Please select an image file")},[t]);return(0,O.jsxs)(d.default,{style:[ut.dropZone,l&&ut.dropZoneActive],onDragOver:function(e){e.preventDefault(),e.stopPropagation(),s(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),s(!1)},onDrop:function(e){var t;e.preventDefault(),e.stopPropagation(),s(!1);var r=null==(t=e.dataTransfer)?void 0:t.files;r&&r.length>0&&f(r[0])},children:[(0,O.jsx)(u.default,{style:ut.dropZoneIcon,children:"\ud83d\udcf7"}),(0,O.jsx)(u.default,{style:ut.dropZoneText,children:l?"Drop image here":"Drag & drop image here"}),(0,O.jsx)(u.default,{style:ut.dropZoneSubtext,children:"or"}),(0,O.jsx)(d.default,{style:ut.dropZoneButtons,children:(0,O.jsx)(I,{title:"Choose File",onPress:function(){c.current?c.current.click():r()},variant:"outline",style:ut.dropZoneButton})})]})},ut=f.default.create({dropZone:{width:300,minHeight:200,borderRadius:C.borderRadius.lg,borderWidth:2,borderStyle:"dashed",borderColor:C.colors.border.secondary,backgroundColor:C.colors.background.tertiary,justifyContent:"center",alignItems:"center",padding:C.spacing.xl,marginBottom:C.spacing.md},dropZoneActive:{borderColor:C.colors.accent.primary,backgroundColor:"rgba(0, 245, 255, 0.1)",borderStyle:"solid"},dropZoneIcon:{fontSize:48,marginBottom:C.spacing.md},dropZoneText:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.sm,textAlign:"center"},dropZoneSubtext:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginBottom:C.spacing.md},dropZoneButtons:{width:"100%"},dropZoneButton:{width:"100%"},mobileContainer:{width:"100%",alignItems:"center"},imagePlaceholder:{width:200,height:200,borderRadius:C.borderRadius.lg,backgroundColor:C.colors.background.tertiary,borderWidth:2,borderColor:C.colors.border.secondary,borderStyle:"dashed",justifyContent:"center",alignItems:"center",marginBottom:C.spacing.lg},imagePlaceholderIcon:{fontSize:48,marginBottom:C.spacing.sm},imagePlaceholderText:{color:C.colors.text.tertiary,fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.medium},imageButtons:{flexDirection:"row",width:"100%",maxWidth:350,justifyContent:"space-between",paddingHorizontal:C.spacing.sm},imageButton:{flex:1,minWidth:140,minHeight:44}});function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var yt=function(){var e=(0,De.useNavigation)(),t=(0,a.useState)(null),r=(0,n.default)(t,2),i=r[0],l=r[1],s=(0,a.useState)(null),c=(0,n.default)(s,2),f=c[0],y=c[1],g=(0,a.useState)(null),m=(0,n.default)(g,2),b=m[0],j=m[1],w=(0,a.useState)(""),v=(0,n.default)(w,2),S=v[0],T=v[1],P=(0,a.useState)(""),k=(0,n.default)(P,2),z=k[0],E=k[1],B=(0,a.useState)("all-season"),R=(0,n.default)(B,2),D=R[0],W=R[1],A=(0,a.useState)([]),L=(0,n.default)(A,2),_=L[0],F=L[1],M=(0,a.useState)(""),N=(0,n.default)(M,2),U=N[0],q=N[1],H=(0,a.useState)(""),V=(0,n.default)(H,2),G=V[0],J=V[1],Z=(0,a.useState)(!1),Y=(0,n.default)(Z,2),X=Y[0],K=Y[1],Q=(0,a.useState)({category:!1,color:!1,season:!1,tags:!1}),ee=(0,n.default)(Q,2),te=ee[0],re=ee[1],oe=function(){var e=(0,o.default)(function*(e){K(!0);try{var t=yield lt(e);t.category&&(y(t.category),re(function(e){return pt(pt({},e),{},{category:!0})})),t.color&&(j(t.color),re(function(e){return pt(pt({},e),{},{color:!0})})),t.season&&(W(t.season),re(function(e){return pt(pt({},e),{},{season:!0})})),t.brand&&T(t.brand),t.tags&&t.tags.length>0&&(F(t.tags),re(function(e){return pt(pt({},e),{},{tags:!0})}))}catch(r){console.error("Image analysis error:",r),nt.default.alert("Analysis Failed","Could not analyze image. Please fill in details manually.")}finally{K(!1)}});return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,o.default)(function*(){if("granted"===(yield at.requestMediaLibraryPermissionsAsync()).status){var e=yield at.launchImageLibraryAsync({mediaTypes:it.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:.8});if(!e.canceled&&e.assets[0]){var t=e.assets[0].uri;l(t),re({category:!1,color:!1,season:!1,tags:!1}),yield oe(t)}}else nt.default.alert("Permission needed","Please grant camera roll permissions to add photos.")});return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,o.default)(function*(){if("granted"===(yield at.requestCameraPermissionsAsync()).status){var e=yield at.launchCameraAsync({allowsEditing:!0,aspect:[1,1],quality:.8});if(!e.canceled&&e.assets[0]){var t=e.assets[0].uri;l(t),re({category:!1,color:!1,season:!1,tags:!1}),yield oe(t)}}else nt.default.alert("Permission needed","Please grant camera permissions to take photos.")});return function(){return e.apply(this,arguments)}}(),ie=function(){G.trim()&&!_.includes(G.trim())&&(F([].concat((0,Be.default)(_),[G.trim()])),J(""))},le=function(){var t=(0,o.default)(function*(){if(i)if(f)if(b)if(U&&!isNaN(parseFloat(U))){var t={id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,imageUri:i,category:f,color:b,brand:S||void 0,size:z||void 0,season:D,tags:_,cost:parseFloat(U),wearCount:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};try{yield $(t),e.goBack()}catch(r){nt.default.alert("Error","Failed to save item. Please try again."),console.error(r)}}else nt.default.alert("Invalid Cost","Please enter a valid cost.");else nt.default.alert("Missing Color","Please select a color.");else nt.default.alert("Missing Category","Please select a category.");else nt.default.alert("Missing Image","Please add a photo of the item.")});return function(){return t.apply(this,arguments)}}();return(0,O.jsxs)(h.default,{style:gt.container,contentContainerStyle:gt.content,children:[(0,O.jsxs)(d.default,{style:gt.header,children:[(0,O.jsx)(u.default,{style:gt.title,children:"Add Item"}),(0,O.jsx)(x.default,{onPress:function(){return e.goBack()},children:(0,O.jsx)(u.default,{style:gt.cancelText,children:"Cancel"})})]}),(0,O.jsx)(d.default,{style:gt.imageSection,children:i?(0,O.jsxs)(d.default,{children:[(0,O.jsxs)(d.default,{style:gt.imageContainer,children:[(0,O.jsx)(Ae.default,{source:{uri:i},style:gt.image}),X&&(0,O.jsxs)(d.default,{style:gt.analyzingOverlay,children:[(0,O.jsx)(p.default,{size:"large",color:C.colors.accent.primary}),(0,O.jsx)(u.default,{style:gt.analyzingText,children:"Analyzing image..."})]})]}),(0,O.jsxs)(d.default,{style:gt.imageActions,children:[(0,O.jsx)(I,{title:"Re-analyze",onPress:function(){return oe(i)},variant:"secondary",style:gt.imageButton,disabled:X}),(0,O.jsx)(I,{title:"Change Photo",onPress:ne,variant:"outline",style:gt.imageButton,disabled:X})]}),!X&&(te.category||te.color||te.season)&&(0,O.jsx)(d.default,{style:gt.autoDetectedBadge,children:(0,O.jsxs)(u.default,{style:gt.autoDetectedText,children:["\u2713 Auto-detected: ",[te.category&&"Category",te.color&&"Color",te.season&&"Season"].filter(Boolean).join(", ")]})})]}):(0,O.jsx)(dt,{onImageSelected:function(){var e=(0,o.default)(function*(e){l(e),re({category:!1,color:!1,season:!1,tags:!1}),yield oe(e)});return function(t){return e.apply(this,arguments)}}(),onTakePhoto:ae,onPickImage:ne})}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsxs)(d.default,{style:gt.labelRow,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Category *"}),te.category&&(0,O.jsx)(u.default,{style:gt.autoLabel,children:"Auto-detected"})]}),(0,O.jsx)(d.default,{style:gt.chipRow,children:["tops","bottoms","shoes","outerwear","accessories"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:f===e,onPress:function(){y(e),re(function(e){return pt(pt({},e),{},{category:!1})})}},e)})})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsxs)(d.default,{style:gt.labelRow,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Color *"}),te.color&&(0,O.jsx)(u.default,{style:gt.autoLabel,children:"Auto-detected"})]}),(0,O.jsx)(d.default,{style:gt.chipRow,children:["black","white","gray","navy","blue","red","green","yellow","orange","pink","purple","brown","beige","multicolor"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:b===e,onPress:function(){j(e),re(function(e){return pt(pt({},e),{},{color:!1})})}},e)})})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsxs)(d.default,{style:gt.labelRow,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Season"}),te.season&&(0,O.jsx)(u.default,{style:gt.autoLabel,children:"Auto-detected"})]}),(0,O.jsx)(d.default,{style:gt.chipRow,children:["spring","summer","fall","winter","all-season"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:D===e,onPress:function(){W(e),re(function(e){return pt(pt({},e),{},{season:!1})})}},e)})})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Brand"}),(0,O.jsx)(Oe.default,{style:gt.input,value:S,onChangeText:T,placeholder:"Enter brand name",placeholderTextColor:C.colors.text.tertiary})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Size"}),(0,O.jsx)(Oe.default,{style:gt.input,value:z,onChangeText:E,placeholder:"e.g., M, 10, One Size",placeholderTextColor:C.colors.text.tertiary})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Cost ($) *"}),(0,O.jsx)(Oe.default,{style:gt.input,value:U,onChangeText:q,placeholder:"0.00",keyboardType:"decimal-pad",placeholderTextColor:C.colors.text.tertiary})]}),(0,O.jsxs)(d.default,{style:gt.section,children:[(0,O.jsxs)(d.default,{style:gt.labelRow,children:[(0,O.jsx)(u.default,{style:gt.label,children:"Tags"}),te.tags&&_.length>0&&(0,O.jsx)(u.default,{style:gt.autoLabel,children:"Auto-detected"})]}),(0,O.jsxs)(d.default,{style:gt.tagInputRow,children:[(0,O.jsx)(Oe.default,{style:[gt.input,gt.tagInput],value:G,onChangeText:J,placeholder:"Add a tag",placeholderTextColor:C.colors.text.tertiary,onSubmitEditing:ie}),(0,O.jsx)(I,{title:"Add",onPress:ie,variant:"secondary",style:gt.tagAddButton})]}),_.length>0&&(0,O.jsx)(d.default,{style:gt.tagsContainer,children:_.map(function(e){return(0,O.jsx)(x.default,{style:gt.tag,onPress:function(){return function(e){F(_.filter(function(t){return t!==e}))}(e)},children:(0,O.jsxs)(u.default,{style:gt.tagText,children:[e," \xd7"]})},e)})})]}),(0,O.jsx)(I,{title:"Save Item",onPress:le,variant:"primary",style:gt.saveButton})]})},gt=f.default.create({container:{flex:1,backgroundColor:C.colors.background.primary},content:{padding:C.spacing.md},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:C.spacing.lg},title:{fontSize:C.typography.fontSize["2xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary},cancelText:{fontSize:C.typography.fontSize.base,color:C.colors.accent.primary},imageSection:{marginBottom:C.spacing.lg,alignItems:"center",width:"100%"},image:{width:200,height:200,borderRadius:C.borderRadius.lg,marginBottom:C.spacing.md,backgroundColor:C.colors.background.tertiary},imagePlaceholder:{width:200,height:200,borderRadius:C.borderRadius.lg,backgroundColor:C.colors.background.tertiary,borderWidth:2,borderColor:C.colors.border.secondary,borderStyle:"dashed",justifyContent:"center",alignItems:"center",marginBottom:C.spacing.md},imagePlaceholderText:{color:C.colors.text.tertiary,marginBottom:C.spacing.md},imageButtons:{flexDirection:"row",width:"100%",maxWidth:300,justifyContent:"space-between"},imageContainer:{position:"relative",marginBottom:C.spacing.md},analyzingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:C.borderRadius.lg,justifyContent:"center",alignItems:"center"},analyzingText:{color:C.colors.text.primary,marginTop:C.spacing.md,fontSize:C.typography.fontSize.sm},imageActions:{flexDirection:"row",width:"100%",maxWidth:300,justifyContent:"space-between"},imageButton:{flex:1,marginRight:C.spacing.sm},autoDetectedBadge:{marginTop:C.spacing.sm,padding:C.spacing.sm,backgroundColor:"rgba(16, 185, 129, 0.1)",borderRadius:C.borderRadius.sm,borderWidth:1,borderColor:C.colors.status.success},autoDetectedText:{color:C.colors.status.success,fontSize:C.typography.fontSize.xs,textAlign:"center"},labelRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:C.spacing.sm},autoLabel:{fontSize:C.typography.fontSize.xs,color:C.colors.status.success,fontWeight:C.typography.fontWeight.medium},section:{marginBottom:C.spacing.lg},label:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.sm},chipRow:{flexDirection:"row",flexWrap:"wrap"},input:{backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,padding:C.spacing.md,color:C.colors.text.primary,borderWidth:1,borderColor:C.colors.border.secondary,fontSize:C.typography.fontSize.base},tagInputRow:{flexDirection:"row",alignItems:"center"},tagInput:{flex:1,marginRight:C.spacing.sm},tagAddButton:{paddingHorizontal:C.spacing.md},tagsContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:C.spacing.sm},tag:{paddingHorizontal:C.spacing.md,paddingVertical:C.spacing.sm,borderRadius:C.borderRadius.pill,backgroundColor:C.colors.background.tertiary,borderWidth:1,borderColor:C.colors.border.accent,marginRight:C.spacing.sm,marginBottom:C.spacing.sm},tagText:{color:C.colors.accent.primary,fontSize:C.typography.fontSize.sm},saveButton:{marginTop:C.spacing.lg,marginBottom:C.spacing.xl}}),ht=r(4706);function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}m.default.get("window").width;var bt=function(e){var t=e.outfit,r=e.items,o=e.style,n=void 0===o?"detailed":o,a=r.filter(function(e){return t.itemIds.includes(e.id)}),i={outerwear:a.filter(function(e){return"outerwear"===e.category}),tops:a.filter(function(e){return"tops"===e.category}),bottoms:a.filter(function(e){return"bottoms"===e.category}),shoes:a.filter(function(e){return"shoes"===e.category}),accessories:a.filter(function(e){return"accessories"===e.category})};return"compact"===n?(0,O.jsx)(d.default,{style:jt.compactContainer,children:(0,O.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:a.map(function(e){return(0,O.jsxs)(d.default,{style:jt.compactItem,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.compactImage}),(0,O.jsx)(u.default,{style:jt.compactLabel,numberOfLines:1,children:e.category})]},e.id)})})}):(0,O.jsx)(d.default,{style:jt.container,children:(0,O.jsxs)(b.LinearGradient,{colors:[C.colors.background.elevated,C.colors.background.tertiary],style:jt.previewCard,children:[(0,O.jsx)(u.default,{style:jt.previewTitle,children:"Outfit Preview"}),(0,O.jsxs)(d.default,{style:jt.mannequinContainer,children:[i.accessories.length>0&&(0,O.jsx)(d.default,{style:jt.accessoriesRow,children:i.accessories.map(function(e){return(0,O.jsxs)(d.default,{style:jt.accessoryItem,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.accessoryImage}),(0,O.jsx)(u.default,{style:jt.itemLabel,children:e.category})]},e.id)})}),i.outerwear.length>0&&(0,O.jsxs)(d.default,{style:jt.layer,children:[(0,O.jsx)(u.default,{style:jt.layerLabel,children:"Outerwear"}),(0,O.jsx)(d.default,{style:jt.itemsRow,children:i.outerwear.map(function(e){return(0,O.jsxs)(d.default,{style:jt.itemCard,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.itemImage}),(0,O.jsx)(u.default,{style:jt.itemLabel,children:e.category}),(0,O.jsx)(u.default,{style:jt.itemColor,children:e.color})]},e.id)})})]}),i.tops.length>0&&(0,O.jsxs)(d.default,{style:jt.layer,children:[(0,O.jsx)(u.default,{style:jt.layerLabel,children:"Top"}),(0,O.jsx)(d.default,{style:jt.itemsRow,children:i.tops.map(function(e){return(0,O.jsxs)(d.default,{style:jt.itemCard,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.itemImage}),(0,O.jsx)(u.default,{style:jt.itemLabel,children:e.category}),(0,O.jsx)(u.default,{style:jt.itemColor,children:e.color})]},e.id)})})]}),i.bottoms.length>0&&(0,O.jsxs)(d.default,{style:jt.layer,children:[(0,O.jsx)(u.default,{style:jt.layerLabel,children:"Bottom"}),(0,O.jsx)(d.default,{style:jt.itemsRow,children:i.bottoms.map(function(e){return(0,O.jsxs)(d.default,{style:jt.itemCard,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.itemImage}),(0,O.jsx)(u.default,{style:jt.itemLabel,children:e.category}),(0,O.jsx)(u.default,{style:jt.itemColor,children:e.color})]},e.id)})})]}),i.shoes.length>0&&(0,O.jsxs)(d.default,{style:jt.layer,children:[(0,O.jsx)(u.default,{style:jt.layerLabel,children:"Shoes"}),(0,O.jsx)(d.default,{style:jt.itemsRow,children:i.shoes.map(function(e){return(0,O.jsxs)(d.default,{style:jt.itemCard,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:jt.itemImage}),(0,O.jsx)(u.default,{style:jt.itemLabel,children:e.category}),(0,O.jsx)(u.default,{style:jt.itemColor,children:e.color})]},e.id)})})]})]}),(0,O.jsxs)(d.default,{style:jt.explanationBox,children:[(0,O.jsx)(u.default,{style:jt.explanationTitle,children:"Why This Works"}),(0,O.jsx)(u.default,{style:jt.explanationText,children:t.styleExplanation})]}),(0,O.jsxs)(d.default,{style:jt.colorPalette,children:[(0,O.jsx)(u.default,{style:jt.paletteLabel,children:"Color Palette"}),(0,O.jsx)(d.default,{style:jt.colorSwatches,children:Array.from(new Set(a.map(function(e){return e.color}))).map(function(e){return(0,O.jsxs)(d.default,{style:jt.colorSwatch,children:[(0,O.jsx)(d.default,{style:[jt.colorDot,{backgroundColor:xt(e)}]}),(0,O.jsx)(u.default,{style:jt.colorName,children:e})]},e)})})]})]})})};function xt(e){return{black:"#000000",white:"#FFFFFF",gray:"#808080",navy:"#000080",blue:"#0000FF",red:"#FF0000",green:"#008000",yellow:"#FFFF00",orange:"#FFA500",pink:"#FFC0CB",purple:"#800080",brown:"#A52A2A",beige:"#F5F5DC",multicolor:"#FF00FF"}[e.toLowerCase()]||"#808080"}var jt=f.default.create({container:{marginBottom:C.spacing.lg},previewCard:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderRadius:C.borderRadius.lg,padding:C.spacing.lg,borderWidth:1,borderColor:C.colors.border.accent},C.shadows.md),previewTitle:{fontSize:C.typography.fontSize.xl,fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.lg,textAlign:"center"},mannequinContainer:{marginBottom:C.spacing.lg},layer:{marginBottom:C.spacing.md},layerLabel:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm,textTransform:"uppercase",letterSpacing:1},itemsRow:{flexDirection:"row",flexWrap:"wrap",gap:C.spacing.sm},itemCard:{backgroundColor:C.colors.background.secondary,borderRadius:C.borderRadius.md,padding:C.spacing.sm,alignItems:"center",minWidth:80,borderWidth:1,borderColor:C.colors.border.secondary},itemImage:{width:60,height:60,borderRadius:C.borderRadius.sm,backgroundColor:C.colors.background.tertiary,marginBottom:C.spacing.xs},itemLabel:{fontSize:C.typography.fontSize.xs,color:C.colors.text.primary,fontWeight:C.typography.fontWeight.medium,textTransform:"capitalize"},itemColor:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary,textTransform:"capitalize"},accessoriesRow:{flexDirection:"row",justifyContent:"center",marginBottom:C.spacing.md,gap:C.spacing.sm},accessoryItem:{alignItems:"center"},accessoryImage:{width:40,height:40,borderRadius:C.borderRadius.sm,backgroundColor:C.colors.background.tertiary},explanationBox:{backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,padding:C.spacing.md,marginBottom:C.spacing.md,borderLeftWidth:3,borderLeftColor:C.colors.accent.primary},explanationTitle:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.xs},explanationText:{fontSize:C.typography.fontSize.sm,color:C.colors.text.secondary,lineHeight:1.5*C.typography.fontSize.sm},colorPalette:{marginTop:C.spacing.md},paletteLabel:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm},colorSwatches:{flexDirection:"row",flexWrap:"wrap",gap:C.spacing.md},colorSwatch:{flexDirection:"row",alignItems:"center",gap:C.spacing.xs},colorDot:{width:20,height:20,borderRadius:10,borderWidth:1,borderColor:C.colors.border.secondary},colorName:{fontSize:C.typography.fontSize.xs,color:C.colors.text.secondary,textTransform:"capitalize"},compactContainer:{marginBottom:C.spacing.md},compactItem:{alignItems:"center",marginRight:C.spacing.sm},compactImage:{width:50,height:50,borderRadius:C.borderRadius.sm,backgroundColor:C.colors.background.tertiary,marginBottom:C.spacing.xs},compactLabel:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary,textTransform:"capitalize"}}),wt=function(e){var t=e.outfit,r=e.items,o=e.onSave,n=e.onRegenerate,a=e.onLockItem,i=r.filter(function(e){return t.itemIds.includes(e.id)});return(0,O.jsxs)(Ne,{style:vt.card,glow:!0,children:[(0,O.jsxs)(d.default,{style:vt.header,children:[(0,O.jsx)(u.default,{style:vt.title,children:"Outfit Suggestion"}),t.occasion&&(0,O.jsx)(d.default,{style:vt.badge,children:(0,O.jsx)(u.default,{style:vt.badgeText,children:t.occasion})})]}),(0,O.jsx)(bt,{outfit:t,items:r,style:"detailed"}),(0,O.jsxs)(d.default,{style:vt.itemsSection,children:[(0,O.jsx)(u.default,{style:vt.itemsSectionTitle,children:"Items (tap to lock)"}),(0,O.jsx)(h.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:vt.itemsContainer,contentContainerStyle:vt.itemsContent,children:i.map(function(e){return(0,O.jsxs)(x.default,{style:vt.itemPreview,onPress:function(){return null==a?void 0:a(e.id)},activeOpacity:.7,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:vt.itemImage}),(0,O.jsx)(u.default,{style:vt.itemLabel,numberOfLines:1,children:e.category})]},e.id)})})]}),(0,O.jsxs)(d.default,{style:vt.actions,children:[o&&(0,O.jsx)(I,{title:"Save Outfit",onPress:o,variant:"primary",style:vt.actionButton}),n&&(0,O.jsx)(I,{title:"Regenerate",onPress:n,variant:"outline",style:vt.actionButton})]})]})},vt=f.default.create({card:{marginBottom:C.spacing.lg},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:C.spacing.md},title:{fontSize:C.typography.fontSize.lg,fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary},badge:{paddingHorizontal:C.spacing.sm,paddingVertical:C.spacing.xs,borderRadius:C.borderRadius.sm,backgroundColor:C.colors.background.tertiary,borderWidth:1,borderColor:C.colors.border.accent},badgeText:{fontSize:C.typography.fontSize.xs,color:C.colors.accent.primary,textTransform:"capitalize"},itemsSection:{marginBottom:C.spacing.md},itemsSectionTitle:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginBottom:C.spacing.sm},itemsContainer:{marginBottom:C.spacing.md},itemsContent:{gap:C.spacing.sm},itemPreview:{alignItems:"center",marginRight:C.spacing.sm},itemImage:{width:60,height:60,borderRadius:C.borderRadius.md,backgroundColor:C.colors.background.tertiary,marginBottom:C.spacing.xs,borderWidth:1,borderColor:C.colors.border.secondary},itemLabel:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary,textTransform:"capitalize"},actions:{flexDirection:"row",gap:C.spacing.sm},actionButton:{flex:1}}),St=r(6916);function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Tt=function(e){var t=e.onViewOutfit,r=We().allItems,i=(0,a.useState)([]),l=(0,n.default)(i,2),s=l[0],c=l[1],f=(0,a.useState)([]),p=(0,n.default)(f,2),y=p[0],g=p[1],m=(0,a.useState)(!1),j=(0,n.default)(m,2),w=j[0],v=j[1],S=(0,a.useState)(null),T=(0,n.default)(S,2),P=T[0],k=T[1],z=(0,a.useState)(null),E=(0,n.default)(z,2),B=E[0],R=E[1],D=(0,a.useState)([]),W=(0,n.default)(D,2),A=W[0],L=W[1];(0,a.useEffect)(function(){_()},[]);var _=function(){var e=(0,o.default)(function*(){try{var e=yield ee();g(e)}catch(t){console.error("Error loading saved outfits:",t)}});return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.default)(function*(){if(0!==r.length){v(!0);try{var e=(new Date).toISOString(),t=yield Ve(e),o=yield function(e){return qe.apply(this,arguments)}({wardrobe:r,constraints:{date:e,weather:t,occasion:P||void 0,mood:B||void 0,lockedItemIds:A.length>0?A:void 0}});c(o.outfits)}catch(n){nt.default.alert("Error","Failed to generate outfits. Please try again."),console.error(n)}finally{v(!1)}}else nt.default.alert("Empty Wardrobe","Add some items to your closet first!")});return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.default)(function*(e){try{var t=(0,St.default)(new Date,"yyyy-MM-dd"),o=yield Ve(t),n=Ot(Ot({},e),{},{wornDate:t,weather:o});yield K(n),yield re({date:t,outfitId:e.id,items:r.filter(function(t){return e.itemIds.includes(t.id)})}),yield _(),nt.default.alert("Saved","Outfit saved to your history!")}catch(a){nt.default.alert("Error","Failed to save outfit."),console.error(a)}});return function(t){return e.apply(this,arguments)}}(),N=function(){F()},U=function(e){A.includes(e)?L(A.filter(function(t){return t!==e})):L([].concat((0,Be.default)(A),[e]))};return(0,O.jsx)(b.LinearGradient,{colors:[C.colors.background.primary,C.colors.background.secondary],style:Pt.container,children:(0,O.jsxs)(h.default,{contentContainerStyle:Pt.content,showsVerticalScrollIndicator:!1,children:[(0,O.jsx)(d.default,{style:Pt.header,children:(0,O.jsxs)(d.default,{style:Pt.titleContainer,children:[(0,O.jsx)(u.default,{style:Pt.title,children:"AI Fits"}),(0,O.jsx)(u.default,{style:Pt.subtitle,children:"Personalized outfit suggestions"})]})}),(0,O.jsxs)(d.default,{style:Pt.filters,children:[(0,O.jsx)(u.default,{style:Pt.filterLabel,children:"Occasion"}),(0,O.jsx)(d.default,{style:Pt.filterRow,children:["casual","work","date","party","gym","formal","sporty"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:P===e,onPress:function(){return k(e===P?null:e)}},e)})}),(0,O.jsx)(u.default,{style:Pt.filterLabel,children:"Mood"}),(0,O.jsx)(d.default,{style:Pt.filterRow,children:["comfy","streetwear","minimal","bold","elegant","edgy","relaxed"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:B===e,onPress:function(){return R(e===B?null:e)}},e)})}),(P||B||A.length>0)&&(0,O.jsx)(x.default,{onPress:function(){k(null),R(null),L([])},style:Pt.clearButton,children:(0,O.jsx)(u.default,{style:Pt.clearText,children:"Clear Filters"})}),A.length>0&&(0,O.jsx)(d.default,{style:Pt.lockedSection,children:(0,O.jsxs)(u.default,{style:Pt.filterLabel,children:["Locked Items: ",A.length]})})]}),(0,O.jsx)(I,{title:w?"Generating...":"Generate Outfits",onPress:F,variant:"primary",disabled:w,style:Pt.generateButton}),s.length>0&&(0,O.jsxs)(d.default,{style:Pt.outfitsSection,children:[(0,O.jsx)(u.default,{style:Pt.sectionTitle,children:"Suggestions"}),s.map(function(e,t){return(0,O.jsx)(Le.AnimatedView,{entering:ht.FadeInDown.delay(100*t),children:(0,O.jsx)(wt,{outfit:e,items:r,onSave:function(){return M(e)},onRegenerate:N,onLockItem:U})},e.id)})]}),y.length>0&&(0,O.jsxs)(d.default,{style:Pt.savedSection,children:[(0,O.jsx)(u.default,{style:Pt.sectionTitle,children:"Saved Outfits"}),y.slice(0,5).map(function(e){return(0,O.jsxs)(x.default,{onPress:function(){return null==t?void 0:t(e)},style:Pt.savedOutfitCard,children:[(0,O.jsx)(u.default,{style:Pt.savedOutfitDate,children:(0,St.default)(new Date(e.wornDate),"MMM d, yyyy")}),(0,O.jsx)(u.default,{style:Pt.savedOutfitText,numberOfLines:1,children:e.styleExplanation})]},e.id)})]}),0===s.length&&!w&&(0,O.jsx)(d.default,{style:Pt.empty,children:(0,O.jsx)(u.default,{style:Pt.emptyText,children:'Tap "Generate Outfits" to get AI-powered style suggestions'})})]})})},Pt=f.default.create({container:{flex:1},content:{padding:C.spacing.md},header:{marginBottom:C.spacing.lg},titleContainer:{marginBottom:C.spacing.md},title:{fontSize:C.typography.fontSize["3xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.xs},subtitle:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary},filters:{marginBottom:C.spacing.lg},filterLabel:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.secondary,marginTop:C.spacing.md,marginBottom:C.spacing.sm},filterRow:{flexDirection:"row",flexWrap:"wrap"},clearButton:{marginTop:C.spacing.sm,alignSelf:"flex-start"},clearText:{color:C.colors.accent.primary,fontSize:C.typography.fontSize.sm},lockedSection:{marginTop:C.spacing.sm},generateButton:{marginBottom:C.spacing.xl},outfitsSection:{marginBottom:C.spacing.xl},sectionTitle:{fontSize:C.typography.fontSize.xl,fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.md},savedSection:{marginBottom:C.spacing.xl},savedOutfitCard:{backgroundColor:C.colors.background.elevated,borderRadius:C.borderRadius.md,padding:C.spacing.md,marginBottom:C.spacing.sm,borderWidth:1,borderColor:C.colors.border.secondary},savedOutfitDate:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginBottom:C.spacing.xs},savedOutfitText:{fontSize:C.typography.fontSize.base,color:C.colors.text.secondary},empty:{alignItems:"center",paddingVertical:C.spacing["3xl"]},emptyText:{fontSize:C.typography.fontSize.base,color:C.colors.text.tertiary,textAlign:"center"}}),kt=r(1182),zt=r(465),It=r(8340),Et=r(3969),Bt=r(3583);function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var Dt=function(){var e=(0,a.useState)(new Date),t=(0,n.default)(e,2),r=t[0],i=t[1],l=(0,a.useState)([]),s=(0,n.default)(l,2),c=s[0],f=s[1],p=(0,a.useState)(!0),y=(0,n.default)(p,2),g=(y[0],y[1]);(0,a.useEffect)(function(){m()},[r]);var m=function(){var e=(0,o.default)(function*(){try{g(!0);var e=(0,kt.default)(r).toISOString().split("T")[0],t=(0,zt.default)(r).toISOString().split("T")[0],o=yield ne(e,t);f(o)}catch(n){console.error("Error loading calendar entries:",n)}finally{g(!1)}});return function(){return e.apply(this,arguments)}}(),b=function(e){var t=new Date(r);t.setMonth(r.getMonth()+("next"===e?1:-1)),i(t)},j=(0,It.default)({start:(0,kt.default)(r),end:(0,zt.default)(r)}),w=function(e){var t=(0,St.default)(e,"yyyy-MM-dd");return c.find(function(e){return e.date===t})},v=w(r);return(0,O.jsxs)(d.default,{style:Wt.container,children:[(0,O.jsxs)(d.default,{style:Wt.header,children:[(0,O.jsx)(x.default,{onPress:function(){return b("prev")},children:(0,O.jsx)(u.default,{style:Wt.navButton,children:"\u2039"})}),(0,O.jsx)(u.default,{style:Wt.monthTitle,children:(0,St.default)(r,"MMMM yyyy")}),(0,O.jsx)(x.default,{onPress:function(){return b("next")},children:(0,O.jsx)(u.default,{style:Wt.navButton,children:"\u203a"})})]}),(0,O.jsxs)(d.default,{style:Wt.calendarGrid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(e){return(0,O.jsx)(d.default,{style:Wt.dayHeader,children:(0,O.jsx)(u.default,{style:Wt.dayHeaderText,children:e})},e)}),j.map(function(e){var t=w(e),o=(0,Et.default)(e,r),n=(0,Et.default)(e,new Date);return(0,O.jsxs)(x.default,{style:[Wt.dayCell,o&&Wt.selectedDay,n&&Wt.todayDay,t&&Wt.hasEntryDay],onPress:function(){return i(e)},children:[(0,O.jsx)(u.default,{style:[Wt.dayText,o&&Wt.selectedDayText,n&&Wt.todayDayText],children:(0,St.default)(e,"d")}),t&&(0,O.jsx)(d.default,{style:Wt.entryDot})]},e.toISOString())})]}),(0,O.jsx)(h.default,{style:Wt.details,contentContainerStyle:Wt.detailsContent,children:v&&v.items.length>0?(0,O.jsxs)(Ne,{glow:!0,children:[(0,O.jsx)(u.default,{style:Wt.detailsTitle,children:(0,St.default)((0,Bt.default)(v.date),"EEEE, MMMM d")}),(0,O.jsx)(d.default,{style:Wt.itemsGrid,children:v.items.map(function(e){return(0,O.jsxs)(d.default,{style:Wt.itemPreview,children:[(0,O.jsx)(Ae.default,{source:{uri:e.imageUri},style:Wt.itemImage}),(0,O.jsx)(u.default,{style:Wt.itemLabel,numberOfLines:1,children:e.category})]},e.id)})}),(0,O.jsxs)(d.default,{style:Wt.stats,children:[(0,O.jsxs)(u.default,{style:Wt.statText,children:["Items: ",v.items.length]}),(0,O.jsxs)(u.default,{style:Wt.statText,children:["Total Cost: $",v.items.reduce(function(e,t){return e+t.cost},0).toFixed(2)]})]})]}):(0,O.jsx)(d.default,{style:Wt.noEntry,children:(0,O.jsxs)(u.default,{style:Wt.noEntryText,children:["No outfit logged for ",(0,St.default)(r,"MMMM d")]})})})]})},Wt=f.default.create({container:{flex:1,backgroundColor:C.colors.background.primary,padding:C.spacing.md},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:C.spacing.lg},navButton:{fontSize:C.typography.fontSize["3xl"],color:C.colors.accent.primary,fontWeight:C.typography.fontWeight.bold,paddingHorizontal:C.spacing.md},monthTitle:{fontSize:C.typography.fontSize.xl,fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary},calendarGrid:{flexDirection:"row",flexWrap:"wrap",marginBottom:C.spacing.lg,borderWidth:1,borderColor:C.colors.border.secondary,borderRadius:C.borderRadius.lg,padding:C.spacing.xs,backgroundColor:C.colors.background.tertiary},dayHeader:{width:"14.28%",paddingVertical:C.spacing.sm,alignItems:"center"},dayHeaderText:{fontSize:C.typography.fontSize.xs,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.tertiary},dayCell:{width:"14.28%",aspectRatio:1,alignItems:"center",justifyContent:"center",borderRadius:C.borderRadius.sm,margin:C.spacing.xs/2,backgroundColor:C.colors.background.secondary},selectedDay:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach(function(t){(0,g.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({backgroundColor:C.colors.accent.primary},C.shadows.glow),todayDay:{borderWidth:2,borderColor:C.colors.accent.primary},hasEntryDay:{borderWidth:1,borderColor:C.colors.border.accent},dayText:{fontSize:C.typography.fontSize.sm,color:C.colors.text.secondary},selectedDayText:{color:C.colors.background.primary,fontWeight:C.typography.fontWeight.bold},todayDayText:{color:C.colors.accent.primary,fontWeight:C.typography.fontWeight.bold},entryDot:{position:"absolute",bottom:4,width:4,height:4,borderRadius:2,backgroundColor:C.colors.accent.primary},details:{flex:1},detailsContent:{paddingBottom:C.spacing.xl},detailsTitle:{fontSize:C.typography.fontSize.lg,fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary,marginBottom:C.spacing.md},itemsGrid:{flexDirection:"row",flexWrap:"wrap",marginBottom:C.spacing.md},itemPreview:{alignItems:"center",marginRight:C.spacing.md,marginBottom:C.spacing.md},itemImage:{width:60,height:60,borderRadius:C.borderRadius.md,backgroundColor:C.colors.background.tertiary,marginBottom:C.spacing.xs},itemLabel:{fontSize:C.typography.fontSize.xs,color:C.colors.text.tertiary,textTransform:"capitalize"},stats:{flexDirection:"row",justifyContent:"space-between",paddingTop:C.spacing.md,borderTopWidth:1,borderTopColor:C.colors.border.secondary},statText:{fontSize:C.typography.fontSize.sm,color:C.colors.text.secondary},noEntry:{alignItems:"center",paddingVertical:C.spacing["2xl"]},noEntryText:{fontSize:C.typography.fontSize.base,color:C.colors.text.tertiary,textAlign:"center"}}),At=function(){var e=(0,a.useState)({}),t=(0,n.default)(e,2),r=(t[0],t[1]),i=(0,a.useState)(""),l=(0,n.default)(i,2),s=l[0],c=l[1],f=(0,a.useState)([]),p=(0,n.default)(f,2),y=p[0],g=p[1],m=(0,a.useState)([]),b=(0,n.default)(m,2),x=b[0],j=b[1],w=(0,a.useState)(null),v=(0,n.default)(w,2),S=v[0],T=v[1],P=(0,a.useState)(""),k=(0,n.default)(P,2),z=(k[0],k[1]),E=(0,a.useState)(!1),B=(0,n.default)(E,2);B[0],B[1];(0,a.useEffect)(function(){D(),R()},[]);var R=function(){var e=L.getApiUrl();z(e)},D=function(){var e=(0,o.default)(function*(){try{var e=(yield ie()).preferences||{};r(e),c(e.defaultCity||""),g(e.preferredColorPalette||[]),j(e.favoriteMoods||[]),T(e.defaultDressCode||null)}catch(t){console.error("Error loading preferences:",t)}});return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.default)(function*(){var e={defaultCity:s||void 0,preferredColorPalette:y.length>0?y:void 0,defaultDressCode:S||void 0,favoriteMoods:x.length>0?x:void 0};try{yield se({preferences:e}),r(e)}catch(t){console.error("Error saving preferences:",t)}});return function(){return e.apply(this,arguments)}}();return(0,O.jsxs)(h.default,{style:Lt.container,contentContainerStyle:Lt.content,children:[(0,O.jsx)(d.default,{style:Lt.header,children:(0,O.jsxs)(d.default,{style:Lt.titleContainer,children:[(0,O.jsx)(u.default,{style:Lt.title,children:"Settings"}),(0,O.jsx)(u.default,{style:Lt.subtitle,children:"Customize your experience"})]})}),!1,(0,O.jsxs)(d.default,{style:Lt.section,children:[(0,O.jsx)(u.default,{style:Lt.label,children:"Default City"}),(0,O.jsx)(u.default,{style:Lt.hint,children:"Used for weather-based outfit suggestions"}),(0,O.jsx)(Oe.default,{style:Lt.input,value:s,onChangeText:c,placeholder:"Enter city name",placeholderTextColor:C.colors.text.tertiary})]}),(0,O.jsxs)(d.default,{style:Lt.section,children:[(0,O.jsx)(u.default,{style:Lt.label,children:"Preferred Color Palette"}),(0,O.jsx)(u.default,{style:Lt.hint,children:"Select colors you prefer in outfits"}),(0,O.jsx)(d.default,{style:Lt.chipRow,children:["black","white","gray","navy","blue","red","green","yellow","orange","pink","purple","brown","beige"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:y.includes(e),onPress:function(){return function(e){y.includes(e)?g(y.filter(function(t){return t!==e})):g([].concat((0,Be.default)(y),[e]))}(e)}},e)})})]}),(0,O.jsxs)(d.default,{style:Lt.section,children:[(0,O.jsx)(u.default,{style:Lt.label,children:"Default Dress Code"}),(0,O.jsx)(d.default,{style:Lt.chipRow,children:["casual","business-casual","business","formal","smart-casual"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:S===e,onPress:function(){return T(e===S?null:e)}},e)})})]}),(0,O.jsxs)(d.default,{style:Lt.section,children:[(0,O.jsx)(u.default,{style:Lt.label,children:"Favorite Moods"}),(0,O.jsx)(u.default,{style:Lt.hint,children:"Style moods you gravitate towards"}),(0,O.jsx)(d.default,{style:Lt.chipRow,children:["comfy","streetwear","minimal","bold","elegant","edgy","relaxed"].map(function(e){return(0,O.jsx)(Ke,{label:e,active:x.includes(e),onPress:function(){return t=e,void(x.includes(t)?j(x.filter(function(e){return e!==t})):j([].concat((0,Be.default)(x),[t])));var t}},e)})})]}),(0,O.jsx)(I,{title:"Save Preferences",onPress:W,variant:"primary",style:Lt.saveButton}),(0,O.jsxs)(d.default,{style:Lt.infoSection,children:[(0,O.jsx)(u.default,{style:Lt.infoTitle,children:"About"}),(0,O.jsx)(u.default,{style:Lt.infoText,children:"AI Closet v1.0.0"}),(0,O.jsx)(u.default,{style:Lt.infoText,children:"Your personal AI stylist"})]})]})},Lt=f.default.create({container:{flex:1,backgroundColor:C.colors.background.primary},content:{padding:C.spacing.md},header:{marginBottom:C.spacing.lg},titleContainer:{marginBottom:C.spacing.sm},title:{fontSize:C.typography.fontSize["2xl"],fontWeight:C.typography.fontWeight.bold,color:C.colors.text.primary},subtitle:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginTop:C.spacing.xs},section:{marginBottom:C.spacing.xl},label:{fontSize:C.typography.fontSize.base,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.xs},hint:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginBottom:C.spacing.sm},input:{backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,padding:C.spacing.md,color:C.colors.text.primary,borderWidth:1,borderColor:C.colors.border.secondary,fontSize:C.typography.fontSize.base},chipRow:{flexDirection:"row",flexWrap:"wrap",marginTop:C.spacing.sm},saveButton:{marginTop:C.spacing.lg,marginBottom:C.spacing.xl},infoSection:{marginTop:C.spacing.xl,paddingTop:C.spacing.xl,borderTopWidth:1,borderTopColor:C.colors.border.secondary,alignItems:"center"},infoTitle:{fontSize:C.typography.fontSize.lg,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.sm},infoText:{fontSize:C.typography.fontSize.sm,color:C.colors.text.tertiary,marginBottom:C.spacing.xs},labelRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},toggleText:{fontSize:C.typography.fontSize.sm,color:C.colors.accent.primary,fontWeight:C.typography.fontWeight.medium},saveApiButton:{marginTop:C.spacing.sm},helpBox:{marginTop:C.spacing.md,padding:C.spacing.md,backgroundColor:C.colors.background.tertiary,borderRadius:C.borderRadius.md,borderWidth:1,borderColor:C.colors.border.secondary},helpTitle:{fontSize:C.typography.fontSize.sm,fontWeight:C.typography.fontWeight.semibold,color:C.colors.text.primary,marginBottom:C.spacing.xs},helpText:{fontSize:C.typography.fontSize.xs,color:C.colors.text.secondary,lineHeight:1.5*C.typography.fontSize.xs}}),_t=(0,l.default)(),Ft=(0,s.default)();function Mt(){return(0,O.jsxs)(Ft.Navigator,{screenOptions:{headerShown:!1,contentStyle:{backgroundColor:C.colors.background.primary}},children:[(0,O.jsx)(Ft.Screen,{name:"ClosetMain",component:rt}),(0,O.jsx)(Ft.Screen,{name:"AddItem",component:yt})]})}function Nt(){return(0,O.jsxs)(_t.Navigator,{screenOptions:{headerShown:!1,tabBarStyle:{backgroundColor:C.colors.background.elevated,borderTopColor:C.colors.border.secondary,borderTopWidth:1,paddingBottom:8,paddingTop:8,height:60},tabBarActiveTintColor:C.colors.accent.primary,tabBarInactiveTintColor:C.colors.text.tertiary,tabBarLabelStyle:{fontSize:12,fontWeight:C.typography.fontWeight.medium}},children:[(0,O.jsx)(_t.Screen,{name:"Closet",component:Mt,options:{tabBarIcon:function(e){var t=e.color;return(0,O.jsx)(u.default,{style:{color:t,fontSize:20},children:"\ud83d\udc55"})}}}),(0,O.jsx)(_t.Screen,{name:"Fits",component:Tt,options:{tabBarIcon:function(e){var t=e.color;return(0,O.jsx)(u.default,{style:{color:t,fontSize:20},children:"\ud83e\udd16"})}}}),(0,O.jsx)(_t.Screen,{name:"Calendar",component:Dt,options:{tabBarIcon:function(e){var t=e.color;return(0,O.jsx)(u.default,{style:{color:t,fontSize:20},children:"\ud83d\udcc5"})}}}),(0,O.jsx)(_t.Screen,{name:"Profile",component:At,options:{tabBarIcon:function(e){var t=e.color;return(0,O.jsx)(u.default,{style:{color:t,fontSize:20},children:"\u2699\ufe0f"})}}})]})}function Ut(){var e=(0,a.useState)(!0),t=(0,n.default)(e,2),r=t[0],l=t[1],s=(0,a.useState)(!1),f=(0,n.default)(s,2),g=(f[0],f[1]),h=(0,a.useState)(!1),m=(0,n.default)(h,2),b=(m[0],m[1]),x=(0,a.useState)(!0),j=(0,n.default)(x,2),w=j[0],v=j[1],S=(0,a.useState)(!1),T=(0,n.default)(S,2),P=T[0],k=T[1];(0,a.useEffect)(function(){z()},[]);var z=function(){var e=(0,o.default)(function*(){try{yield function(){return pe.apply(this,arguments)}();var e,t=L.getToken(),r=!1;if(t)null!=(e=(yield L.verifyToken()).data)&&e.valid?(r=!0,g(!0),ue(!0)):L.logout();var o=yield me();b(o.hasCompletedOnboarding),v(!o.hasCompletedOnboarding&&r),k(!r)}catch(n){console.error("Error initializing app:",n),k(!0)}finally{l(!1)}});return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,o.default)(function*(){g(!0),ue(!0);var e=yield me();b(e.hasCompletedOnboarding),v(!e.hasCompletedOnboarding),k(!1)});return function(){return e.apply(this,arguments)}}();return r?(0,O.jsxs)(d.default,{style:qt.loadingContainer,children:[(0,O.jsx)(p.default,{size:"large",color:C.colors.accent.primary}),(0,O.jsx)(u.default,{style:qt.loadingText,children:"Loading AI Closet..."})]}):(0,O.jsxs)(y.SafeAreaProvider,{children:[(0,O.jsx)(c.StatusBar,{style:"light"}),(0,O.jsx)(i.default,{theme:{dark:!0,colors:{primary:C.colors.accent.primary,background:C.colors.background.primary,card:C.colors.background.elevated,text:C.colors.text.primary,border:C.colors.border.secondary,notification:C.colors.accent.primary}},children:P?(0,O.jsx)(ze,{onLogin:I,onSignup:I}):w?(0,O.jsx)(ve,{onComplete:function(){v(!1),b(!0)}}):(0,O.jsx)(Nt,{})})]})}var qt=f.default.create({loadingContainer:{flex:1,backgroundColor:C.colors.background.primary,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:C.spacing.md,fontSize:C.typography.fontSize.base,color:C.colors.text.secondary}})}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,(()=>{var e=[];r.O=(t,o,n,a)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,n,a]=e[d],l=!0,s=0;s<o.length;s++)(!1&a||i>=a)&&Object.keys(r.O).every(e=>r.O[e](o[s]))?o.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,n,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[i,l,s]=o,c=0;if(i.some(t=>0!==e[t])){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(s)var d=s(r)}for(t&&t(o);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[140],()=>r(5036));o=r.O(o)})();
//# sourceMappingURL=main.d2e5b281.js.map